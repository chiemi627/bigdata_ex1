# リレーショナルデータベース復習

## 問題1: データベースとデータモデル
1. データベースとは何か。何のために使われるのか？
2. データモデルについて説明したのち、リレーショナルデータモデルの特徴を説明せよ。
3. リレーショナルスキーマについて説明せよ。
4. リレーションは基本的に第一正規形を満たすことが求められる。第一正規形を満たさない例を2種類あげよ。

## 問題２：SQLの基本
restaurant_review.db はレストランに対してユーザが付けたレビュー情報を格納している。
スキーマ情報は [レストランデータベーススキーマ.md](レストランデータベーススキーマ.md) にある。
このデータベースに対する以下の問い合わせを行うSQL文を求めよ。

1.全てのユーザーのアカウント名とメールアドレス
### SQL
```
```
### 実行結果
```
```
### 解説
```
```

2. 評価が5点満点のレビューを全て取得し、レストランID、ユーザーID、日付、コメント
### SQL
```
```
### 実行結果
```
```
### 解説
```
```

3. レストラン名と、そのレストランに投稿された全てのレビューのスコアとコメントをレストラン名、スコア、コメントの順で表示
### SQL
```
```
### 実行結果
```
```
### 解説
```
```

4. ユーザーアカウント名と、そのユーザーが投稿した全てのレビューの対象となるレストラン名、
評価スコア、コメント
### SQL
```
```
### 実行結果
```
```
### 解説
```
```

## 問題3:集約演算

1. 各レストランのレビュー数と平均評価点を計算してください。レストラン名、レビュー数、平均評価点
### SQL
```
```
### 実行結果
```
```
### 解説
```
```

2. 平均評価点が4.0以上で、かつ10件以上のレビューがあるレストランのレストラン名、平均評価点、レビュー数
### SQL
```
```
### 実行結果
```
```
### 解説
```
```

3. ユーザーをその人がつけた評価点の平均評価点の高い順に並べ替え、氏名、上位10件のユーザに関する平均評価点、レビュー数を求めよ
### SQL
```
```
### 実行結果
```
```
### 解説
```
```

## 問題４：正規化　

以下の商品の注文履歴リレーションは第何正規形か？その理由と共に答えよ。
また、このリレーションが持つ問題を示し、それを解決するリレーションスキーマを提示せよ。

CREATE TABLE OrderDetails (
    OrderID INTEGER,
    ProductID INTEGER,
    CustomerID INTEGER,
    Quantity INTEGER,
    UnitPrice REAL,
    ProductName TEXT,
    CategoryName TEXT,
    CustomerCity TEXT,
    PRIMARY KEY (OrderID, ProductID)
);

各属性の意味:
OrderID: 注文を一意に識別する番号
ProductID: 製品を一意に識別する番号
CustomerID: 顧客を一意に識別する番号
Quantity: 注文された製品の数量
UnitPrice: 製品の単価
ProductName: 製品の名前
CategoryName: 製品のカテゴリ名
CustomerCity: 顧客の居住都市
